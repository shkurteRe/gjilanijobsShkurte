<div class="d-flex flex-column flex-root">
    <div class="d-flex flex-column flex-column-fluid bgi-position-y-bottom position-x-center bgi-no-repeat bgi-size-contain bgi-attachment-fixed"
        style="background-image: url(../../../../assets/media/14.png">
        <div class="d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20">
            <a href="../../../../demo1/index.html" class="mb-12">
                <img alt="Logo" src="./assets/media/logos/logo.png" class="h-40px">
            </a>
            <div class="w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
                <form [formGroup]="form" (submit)="submit()"
                    class="form w-100 fv-plugins-bootstrap5 fv-plugins-framework" novalidate="novalidate"
                    id="kt_sign_in_form" action="#">
                    <div class="text-center mb-10">
                        <h1 class="text-dark mb-3" *ngIf="action == 1">Continue with Phone</h1>
                        <h1 class="text-dark mb-3" *ngIf="action == 2">{{form.value.country_code}}{{form.value.phone}}
                        </h1>
                        <div class="text-gray-400 fw-bold fs-4" *ngIf="action == 1">
                            <a routerLink="/login" class="link-primary fw-bolder">
                                Go Back
                            </a>
                        </div>
                    </div>
                    <div [hidden]="action == 2" class="fv-row mb-10 fv-plugins-icon-container">
                        <label class="form-label fs-6 fw-bolder text-dark required">Country code</label>
                        <select class="form-control form-control-lg form-control-solid" formControlName="country_code"
                            country_code="country_code">
                            <option *ngFor="let allTimeZone of allTimeZones" [value]="allTimeZone.MobileCode">
                                {{allTimeZone.Name}} ({{allTimeZone.MobileCode}})
                            </option>
                        </select>
                        <div class="fv-plugins-message-container invalid-feedback">
                            <div class="error">
                                <div
                                    *ngIf="form.controls.country_code.touched && form.controls.country_code.hasError('required')">
                                    country code is required
                                </div>
                                <div *ngIf="form.controls.country_code.dirty && form.controls.country_code.errors">
                                    Invalid country code
                                </div>
                            </div>
                        </div>
                    </div>
                    <div [hidden]="action == 2" class="fv-row mb-10 fv-plugins-icon-container">
                        <label class="form-label fs-6 fw-bolder text-dark required">Phone</label>
                        <input class="form-control form-control-lg form-control-solid" type="text"
                            formControlName="phone" name="phone">
                        <div class="fv-plugins-message-container invalid-feedback">
                            <div class="error">
                                <div *ngIf="form.controls.phone.touched && form.controls.phone.hasError('required')">
                                    Phone is required
                                </div>
                                <div *ngIf="form.controls.phone.dirty && form.controls.phone.errors">
                                    Invalid phone
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="fv-row mb-10 fv-plugins-icon-container" [hidden]="action == 1">
                        <div class="d-flex flex-stack mb-2">
                            <label class="form-label fw-bolder text-dark fs-6 mb-0 required">Code</label>
                        </div>
                        <input class="form-control form-control-lg form-control-solid" type="token"
                            formControlName="token" name="token">
                        <div class="fv-plugins-message-container invalid-feedback">
                            <div class="error">
                                <div *ngIf="form.controls.token.touched && form.controls.token.hasError('required')">
                                    token is required
                                </div>
                                <div *ngIf="form.controls.token.dirty && form.controls.token.errors">
                                    token atleast 6 words
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-wrap justify-content-center pb-lg-0">
                        <button [disabled]="loading" type="submit" class="btn btn-lg btn-primary fw-bolder me-4">
                            <span *ngIf="!loading">Continue</span>
                            <span *ngIf="loading">Please wait...</span>
                        </button>
                        <a (click)="action = 1" class="btn btn-lg btn-light-primary fw-bolder"
                            *ngIf="action == 2">Resend Code / Edit Phone</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>